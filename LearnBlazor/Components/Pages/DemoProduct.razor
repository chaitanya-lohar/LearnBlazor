@page "/demoproduct"
@inherits BindProperty
<h3 class="text-primary">Demo Product</h3>
<div style="display:flex;flex-direction:row;width:100%;">
    @foreach (var prod in ProductList)
    {
        <div style="width:50%;" class="border p-2">
            <div class="p-1">Name - @prod.Name</div>
            <div class="p-1">Show Properties : <input type="checkbox" @bind="@prod.IsActive" /> </div>
            @if (prod.IsActive)
            {
                <div class="border m-1">
                    @foreach (var detail in prod.ProductProperties)
                    {
                        <div class="p-1">@detail.Key - @detail.Value</div>
                    }
                </div>
            }
            <button class="btn btn-danger" @onclick="()=>delete(prod.Id)">Delete</button>
        </div>
    }
</div>
<div class="m-2">
    <button class="btn btn-success" @onclick="()=>increment(ProductList.Count())">Increment</button>
    <span class="m-2">@count</span>
</div>
@code {
    private int count { get; set; } = 0;

    private void increment(int counter) {
        count +=counter;
    }
    private void delete(int Id) {
        ProductList = ProductList.Where(x => x.Id != Id).ToList();
        count = ProductList.Count();
    }
}
